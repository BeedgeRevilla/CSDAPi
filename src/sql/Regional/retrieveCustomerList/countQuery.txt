SELECT
COUNT(P.PARTY_RK) as cntParty
FROM PARTY P 
LEFT OUTER JOIN PARTY_SK PS
ON P.PARTY_RK = PS.PARTY_RK
LEFT OUTER JOIN TELEPHONE_CONTACT TC
ON TC.PARTY_RK=P.PARTY_RK
WHERE
EXISTS 
(
	SELECT * FROM
		(	SELECT * FROM PARTY_IDENTIFIER 
			WHERE ID_DOC_TYPE_CD='SECURITYNO' 											 /* Input ID Document Type code */
			AND   SRCH_ID_DOC_NO  LIKE UPPER(REGEXP_REPLACE(REVERSE('%idDocumentNumber%'), '[^0-9A-Za-z]', '')|| '%')
		)PID 
	WHERE PID.PARTY_RK=P.PARTY_RK
)
